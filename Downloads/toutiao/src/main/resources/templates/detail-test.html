<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>校园资讯-HUST</title>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="keywords" content="读《Web 全栈工程师的自我修养》">
    <meta name="description" content="阅读影浅分享的读《Web 全栈工程师的自我修养》。">

    <link rel="stylesheet" type="text/css" href="/styles/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/styles/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/styles/home.css">

    <link rel="stylesheet" media="all" href="/styles/style.css">
    <script type="text/javascript" src="/scripts/jquery.js"></script>
    <script type="text/javascript" src="/scripts/main/base/base.js"></script>
    <script type="text/javascript" src="/scripts/main/base/util.js"></script>
    <script type="text/javascript" src="/scripts/main/base/event.js"></script>
    <script type="text/javascript" src="/scripts/main/base/upload.js"></script>
    <script type="text/javascript" src="/scripts/main/component/component.js"></script>
    <script type="text/javascript" src="/scripts/main/component/popup.js"></script>
    <script type="text/javascript" src="/scripts/main/component/popupLogin.js"></script>
    <script type="text/javascript" src="/scripts/main/component/upload.js"></script>
    <script type="text/javascript" src="/scripts/main/component/popupUpload.js"></script>
    <script type="text/javascript" src="/scripts/main/util/action.js"></script>

</head>
<body class="welcome_index">

<header class="navbar navbar-default navbar-static-top bs-docs-nav" id="top" role="banner">
    <div class="container">
        <div class="navbar-header">
            <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a href="/" class="navbar-brand logo">
                <h1>校园资讯</h1>
                <h3>一流校园资讯平台</h3>
            </a>
        </div>

        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">

            <ul class="nav navbar-nav navbar-right">


                <li class=""><a href="/">资讯</a></li>
                <li class="js-share" th:if="${user}"><a href="javascript:void(0);">分享</a></li>
                <!--/*@thymesVar id="user" type="com.nowcoder.toutiao.model.User*/-->
                <li class="" th:if="${user}"><a href="/msg/list">站内信</a></li>
                <li class="" th:if="${user}"><a th:href="@{/user/{userid}(userid=${user.id})}"><span th:text="${user.name}">cnm</span></a></li>

                <li class="js-login" th:unless="${user}"><a href="javascript:void(0);">登陆</a></li>

            </ul>
        </nav>
    </div>
</header>

<div id="main">

    <div class="container">

        <h4 class="date">
            <i class="fa icon-calendar"></i>
            <span th:text="${#dates.format(news.createdDate, 'yyyy-MM-dd HH:mm:ss')}">头条资讯</span>
        </h4>


        <div class="post detail">
            <div class="votebar">
                <button class="click-like up ${like gt 0} ？'pressed' " th:data-id="${news.id}" title="赞同"><i class="vote-arrow"></i><!--/*@thymesVar id="news" type="com.nowcoder.toutiao.model.News"*/-->
                <span class="count" th:text="${news.likeCount}">likeCount</span></button>
                <button class="click-dislike down ${like lt 0} ？ 'pressed' " th:data-id="${news.id}" title="反对"><i class="vote-arrow"></i></button>
                
                
            </div>


            <div class="content">
                <div class="content-img">
                    <!--/*@thymesVar id="news" type="com.nowcoder.toutiao.model.News"*/-->
                    <img class="content-img" th:src="@{${news.image}}" alt="">
                </div>
                <div class="content-main">
                    <h4>
                        <a target="_blank" rel="external nofollow" th:href="@{${news.link}}"><span th:text="${news.title}"></span></a>
                    </h4>
                    <div class="meta">
                        <span th:text="${news.link}"></span>
                        <!--/*@thymesVar id="news" type="com.nowcoder.toutiao.model.News"*/-->
                        <span><i class="fa icon-comment"></i>
                            <span  th:text="${news.commentCount}">commentCount</span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="user-info">
                <div class="user-avatar">
                    <!--/*@thymesVar id="owner" type="com.nowcoder.toutiao.model.User"*/-->
                    <a th:href="@{/user/{userId}(userId=${owner.id})}"><img width="32" class="img-circle" th:src="@{${owner.headUrl}}"></a>
                </div>
                <!--
                <div class="info">
                    <h5>分享者</h5>

                    <a href="http://nowcoder.com/u/125701"><img width="48" class="img-circle" src="http://images.nowcoder.com/images/20141231/622873_1420036789276_622873_1420036771761_%E8%98%91%E8%8F%87.jpg@0e_200w_200h_0c_1i_1o_90Q_1x" alt="Thumb"></a>

                    <h4 class="m-b-xs">影浅</h4>
                    <a class="btn btn-default btn-xs" href="http://nowcoder.com/signin"><i class="fa icon-eye"></i> 关注TA</a>
                </div>
                -->
            </div>

            <div class="subject-name">来自
                <!--/*@thymesVar id="owner" type="com.nowcoder.toutiao.model.User"*/-->
                <a th:href="@{/user/{userId}(userId=${owner.id})}"><span th:text="${owner.username}">name</span> </a></div>
        </div>
        <!--
        <div class="social-share-button text-center" data-title="读《Web 全栈工程师的自我修养》 http://nowcoder.com/posts/wt2rwy 分享自 @影浅 创建的《web开发的愚人之旅》 http://nowcoder.com/subjects/2245( 想看更多？下载 @牛客网 app：http://nowcoder.com/download )" data-type="text" data-url="null" data-img="http://nowcoder.com/screenshots/8/469448.png">
            <h5>分享到</h5>
            <a href="javascript:;" class="btn btn-danger" rel="external nofollow" data-site="weibo" onclick="return SocialShareButton.share(this);"><i class="fa icon-weibo"></i> 微博</a>
            <span class="dropdown weixin-qrcode-dropdown">
                <button class="btn btn-success" id="weixin-qrcode" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa icon-weixin"></i> 微信</button>
                <span class="dropdown-menu weixin-qrcode-dropdown-menu" aria-labelledby="weixin-qrcode" data-url="http://nowcoder.com/posts/wt2rwy">
                    <span class="weixin-qrcode" aria-labelledby="weixin-qrcode" data-url="http://nowcoder.com/posts/wt2rwy"><canvas width="132" height="132"></canvas></span>扫描二维码<br>下载牛客网
                </span>
            </span>
        </div>
        <div role="alert" class="alert alert-warning subscribe-banner">
            使用《头条八卦》客户端，拥有更好的阅读体验。
            <a href="http://nowcoder.com/download?ref=web_posts" target="_blank" title="牛客网客户端" class="btn btn-info btn-sm pull-right">立即体验</a>
        </div>
        -->




        <div class="p-control">

        <p class="lead">
            <!--/*@thymesVar id="news" type="com.nowcoder.toutiao.model.News"*/-->
            <span th:text="${news.content}">使用校园头条，获得更好的用户体验</span>
        </p>
        </div>

        <div class="news-button-form" th:if="${user}">
            <div class="button" th:unless="${isCollected}">
                <!--/*@thymesVar id="news" type="com.nowcoder.toutiao.model.News"*/-->
                <a th:href="@{/collection(newsId=${news.id})}">收藏</a>
            </div>

            <div class="button-focus" th:if="${isCollected}">
                <!--/*@thymesVar id="news" type="com.nowcoder.toutiao.model.News"*/-->
                <a th:href="@{/disCollection(newsId=${news.id})}">已收藏</a>
            </div>

            <!--/*@thymesVar id="owner" type="com.nowcoder.toutiao.model.User"*/-->
            <!--/*@thymesVar id="news" type="com.nowcoder.toutiao.model.News"*/-->
            <div class="button" th:if="${user.id} eq ${owner.id}">
                <a th:href="@{/deleteNews(newsId=${news.id})}">删除</a>
            </div>
        </div>

        <div class="post-comment-form">
            <!--/*@thymesVar id="user" type="com.nowcoder.toutiao.model.User*/-->
            <div th:if="${user}">

                <form method="post" action="/addComment">
                    <!--/*@thymesVar id="news" type="com.nowcoder.toutiao.model.News"*/-->
                    <input name="newsId" type="hidden" th:value="${news.id}">

                    <div class="form-group text required comment_content">
                        <h4>评论</h4>
                        <label class="text required sr-only">
                            <abbr title="required">*</abbr> 评论</label>
                        <textarea rows="5" class="text required comment-content form-control" name="content" id="content"></textarea>
                    </div>
                    <div class="text-right">
                        <input type="submit" name="commit" value="提 交" class="btn btn-default btn-info">
                    </div>
                </form>
            </div>
            <div class="login-actions" th:unless="${user}">
                <a class="btn btn-success" href="/?pop=1">登录后评论</a>
            </div>

        </div>

        <div id="comments" class="comments">
            <!--/*@thymesVar id="comments" type="com.nowcoder.toutiao.model.ViewObject"*/-->
            <!--/*@thymesVar id="comments" type="com.nowcoder.toutiao.model.User"*/-->
            <h4>评论列表</h4>
            <div class="media" th:each="commentvo : ${comments}">
                <div th:if="${commentvo.comment.status} eq 1">
                    <a class="media-left" th:href="@{/user/${commentvo.user.id}}">
                        <img th:src="@{${commentvo.user.headUrl}}">
                    </a>
                    <div class="media-body">
                        <h4 class="media-heading">
                            <small class="date"><!--/*@thymesVar id="date" type="java.util.Date"*/-->
                                <!--/*@thymesVar id="comment" type="com.nowcoder.toutiao.model.Comment"*/-->
                                <span th:text="${commentvo.comment.createdDate}">
                                Date
                            </span>

                            </small>
                        </h4>
                        <div th:text="${commentvo.comment.content}">comment.content</div>
                    </div>
                </div>
            </div>

            <div class="button-control">
                <div class="button" th:unless="${page eq 1}">
                    <a th:case="1" th:href="@{/news/{newsId}(newsId=${news.id},page=${page-1})}">上一页</a>
                </div>
                <div class="button" th:unless="${page eq size}">
                    <a th:case="1" th:href="@{/news/{newsId}(newsId=${news.id},page=${page+1})}">下一页</a>
                </div>
        </div>

    </div>
    <script type="text/javascript">
        $(function(){

            // If really is weixin
            $(document).on('WeixinJSBridgeReady', function() {

                $('.weixin-qrcode-dropdown').show();

                var options = {
                    "img_url": "",
                    "link": "http://nowcoder.com/j/wt2rwy",
                    "desc": "",
                    "title": "读《Web 全栈工程师的自我修养》"
                };

                WeixinJSBridge.on('menu:share:appmessage', function (argv){
                    WeixinJSBridge.invoke('sendAppMessage', options, function (res) {
                        // _report('send_msg', res.err_msg)
                    });
                });

                WeixinJSBridge.on('menu:share:timeline', function (argv) {
                    WeixinJSBridge.invoke('shareTimeline', options, function (res) {
                        // _report('send_msg', res.err_msg)
                    });
                });

                // $(window).on('touchmove scroll', function() {
                //   if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
                //     $('div.backdrop').show();
                //     $('div.share-help').show();
                //   } else {
                //     $('div.backdrop').hide();
                //     $('div.share-help').hide();
                //   }
                // });

            });

        })

    </script>
    <script type="text/javascript" src="/scripts/main/site/detail.js"></script>
</div>

<footer>
    <div class="container">
        <p class="text-center">
            <a href="http://nowcoder.com/about">关于我们</a>
            <a href="http://nowcoder.com/download">头条客户端</a>
        </p>
        <p class="text-center">© 2013-2016 头条八卦</p>
    </div>

</footer>

<div id="quick-download">
    <button type="button" class="close-link btn-link" data-toggle="modal" data-target="#quick-download-app-modal"><i class="fa icon-times-circle"></i></button>

    <a class="download-link" href="http://nowcoder.com/download">
        <h3>牛客网</h3>
        <h4>程序员的首选学习分享平台</h4>
        <button type="button" class="btn btn-info btn-sm">下载 APP</button>
    </a>

    <div class="modal fade" id="quick-download-app-modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">提示</div>
                <div class="modal-body">
                    <div class="checkbox">
                        <label class="i-checks">
                            <input id="already-installed" type="checkbox"><i></i> 我已安装了牛客网App，不再显示
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-block btn-default" id="close-quick-download-app-modal">关 闭</button>
                </div>
            </div>
        </div>
    </div>
</div>

</body></html>